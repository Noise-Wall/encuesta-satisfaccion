import{l as r}from"./login-065b59a0.js";import{p as i}from"./popup-cfc4d190.js";import{h as l,u as m,o as c,c as u,a as p,i as f}from"./index-2e079f12.js";import"./token-3b81b8e9.js";const d=f('<p>Inicie sesión para continuar.</p><form class="form" id="form"><label for="usuario" class="form-item">Usuario: </label><input type="text" name="nombreUsuario" class="form-item"><label for="contrasena" class="form-item">Contraseña: </label><input type="password" name="contrasena" class="form-item"></form>',2),E={__name:"LoginView",setup(b){const t=l(),a=m();function s(n){let e=Object.fromEntries(new FormData(document.querySelector("#form")).entries());if(console.log(e),e.nombreUsuario.trim()===""||e.contrasena.trim()===""){i.createPopup("Debe llenar todos los campos.",o=>o.target.parentElement.parentElement.remove());return}try{r.logIn(e).then(()=>a.push("/admin"))}catch(o){console.log(o.message)}}return t.fullPath.startsWith(r.validateRoute(t))||console.log(!1),(n,e)=>(c(),u("section",null,[d,p("input",{type:"submit",value:"Iniciar sesion",class:"boton",onClick:e[0]||(e[0]=o=>s())})]))}};export{E as default};
